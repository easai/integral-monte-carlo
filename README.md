# 蒙特卡罗方法 + MISER

这个程序来用蒙特卡罗方法和 MISER 方法计算积分。MISER 方法是分割积分范围，随机在各个领域进行采样，根据被积函数值的方差将方差最大的领域分割成更小的领域，在那里进行更多的采样，并提高精度。 

## 使用法

```bash
poetry install
poetry run pytest -v
```

## 结果

以下是测试用例的预期输出结果及说明。公差是 1e-3。

结果是随机的，因此每次运行都会产生不同的结果。

### 测试一
f(x) = x^2 
a = 0.0
b = 1.0
exact = 1.0/3

#### 结果：
```bash
测试一
Degree: 100
Approximation: 0.14851433843319792
Error: 0.0019480332224262598
误差比公差更大
Degree: 1000
Approximation: 0.1569354521073307
Error: 0.0002580741744395709
误差比公差更小
Degree: 10000
Approximation: 0.17105068466759868
Error: 0.004171503144244637
误差比公差更大
```
#### 原因：
对于此运行，n=1000 仅满足条件，因为误差（0.0002580741744395709）是比公差（1e-3）更小。


### 测试二
g(x) = cos(x)
a = 0.0
b = pi/2
exact = 1.0

#### 结果：
```bash
测试二
Degree: 100
Approximation: 0.4857894561447945
Error: 0.013082966490275072
误差比公差更大
Degree: 1000
Approximation: 0.5085744742689622
Error: 0.00882274462049093
误差比公差更大
Degree: 10000
Approximation: 0.4981558230702244
Error: 0.005226995437569104
误差比公差更大
```
#### 原因：
对于此运行，都不仅满足条件，因为都误差是比公差（1e-3）更大。

### 测试三
h(x) = e^x
a = 0.0
b = 1.0
exact = e - 1.0
 
#### 结果：
```bash
测试三
Degree: 100
Approximation: 0.7807005684083269
Error: 0.11826736103632363
误差比公差更大
Degree: 1000
Approximation: 0.8590449276780187
Error: 0.010267610659965065
误差比公差更大
Degree: 10000
Approximation: 0.8569275104403186
Error: 0.00485730526305117
误差比公差更大
```
#### 原因：
对于此运行，都不仅满足条件，因为都误差是比公差（1e-3）更大。 



